(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{64:function(e,t,a){e.exports=a(88)},69:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(16),o=a.n(i),r=(a(69),a(70),a(71),a(43)),c=a(19),l=a(20),m=a(25),h=a(21),d=a(13),p=a(26),u=(a(72),a(110)),b=a(104),g=a(105),f=a(90),k=a(111),v=a(112),E=a(108),x=a(107),H=a(24),O=a.n(H),j=a(109),N=a(27),S=a.n(N),w=a(106),y=a(35),B=a.n(y),D=a(12),A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={index:a.props.index,hash:a.props.hash,nonce:0,data:a.props.data,prevHash:a.props.prevHash,timestamp:a.props.timestamp},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){for(var e=(new Date).toLocaleString(),t=0;!this.props.hash.startsWith("000");){var a=Object(D.sha256)(-1+this.state.data+e+t);if(t++,a.startsWith("000")){this.setState({hash:a,nonce:t,timestamp:e}),this.props.getBlocksOnMount(this.props.index,a,t,e);break}}}},{key:"render",value:function(){var e=this,t=this.props.classes;return s.a.createElement(b.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},s.a.createElement(b.a,{item:!0,xs:12,lg:8},s.a.createElement(g.a,{className:t.root+" blockchain-block"},s.a.createElement(f.a,{variant:"h5",component:"h3"},"BLOCK #",this.state.index+1," ",s.a.createElement("span",{style:{fontSize:"0.7rem"}},"on ",this.props.timestamp,this.state.hash.startsWith("000")?s.a.createElement("span",{className:"nonce"},this.state.nonce):s.a.createElement(w.a,{size:"small",onClick:function(){return e.props.fixBlockNonce(e.props.index)},color:"primary","aria-label":"Add",style:{float:"right"}},s.a.createElement(B.a,null)))),s.a.createElement(f.a,{component:"p"},s.a.createElement(x.a,{className:t.margin+" formControl-1",fullWidth:!0},s.a.createElement(v.a,{htmlFor:"input-with-icon-adornment"},"DATA"),s.a.createElement(k.a,{id:"input-with-icon-adornment",value:this.state.data,onChange:function(t){return e.props.blockHandler(t,e.props.index)},startAdornment:s.a.createElement(E.a,{position:"start"},s.a.createElement(O.a,null))})),s.a.createElement(x.a,{className:t.margin+" formControl-1",fullWidth:!0},s.a.createElement(v.a,{htmlFor:"input-with-icon-adornment"},"PREVIOUS HASH"),s.a.createElement(k.a,{className:this.props.prevHash.startsWith("000")?"green":"red",style:{fontSize:"0.75rem"},value:this.props.prevHash,disabled:!0,id:"input-with-icon-adornment",startAdornment:s.a.createElement(E.a,{position:"start"},s.a.createElement(S.a,null))})),s.a.createElement(x.a,{className:t.margin+" formControl-1",fullWidth:!0},s.a.createElement(v.a,{htmlFor:"input-with-icon-adornment"},"HASH"),s.a.createElement(k.a,{className:this.state.hash.startsWith("000")?"green":"red",style:{fontSize:"0.75rem"},value:this.state.hash,disabled:!0,id:"input-with-icon-adornment",startAdornment:s.a.createElement(E.a,{position:"start"},s.a.createElement(S.a,null))}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.hash!==t.hash?{data:e.data,hash:e.hash,nonce:e.nonce,prevHash:e.prevHash}:null}}]),t}(n.Component),W=Object(u.a)({root:{padding:25}})(A),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={data:a.props.data,hash:a.props.gensisHash,prevHash:0,index:0,nonce:a.props.nonce,timestamp:a.props.timestamp},a.componentDidMount=a.componentDidMount.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){for(var e=(new Date).toLocaleString(),t=0;!this.props.gensisHash.startsWith("000");){var a=Object(D.sha256)(-1+this.state.data+e+t);if(t++,a.startsWith("000")){this.setState({hash:a,nonce:t,timestamp:e}),this.props.getGensisOnMount(a,t,e);break}}}},{key:"render",value:function(){var e=this.state,t=e.nonce,a=e.hash,n=e.prevHash,i=this.props.classes;return s.a.createElement(b.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},s.a.createElement(b.a,{item:!0,xs:12,lg:8},s.a.createElement(g.a,{className:i.root+" blockchain-block"},s.a.createElement(f.a,{variant:"h5",component:"h3"},"GENSIS BLOCK"," ",s.a.createElement("span",{style:{fontSize:"0.7rem"}},"on ",this.props.timestamp,a.startsWith("000")?s.a.createElement("span",{className:"nonce"},t):s.a.createElement(w.a,{size:"small",color:"primary","aria-label":"Add",style:{float:"right"},onClick:this.props.fixNonce},s.a.createElement(B.a,null)))),s.a.createElement(f.a,{component:"p"},s.a.createElement(x.a,{className:i.margin+" formControl-1",fullWidth:!0},s.a.createElement(v.a,{htmlFor:"input-with-icon-adornment"},"DATA"),s.a.createElement(k.a,{id:"input-with-icon-adornment",value:this.state.data,onChange:this.props.handler,startAdornment:s.a.createElement(E.a,{position:"start"},s.a.createElement(O.a,null))})),s.a.createElement(x.a,{className:i.margin+" formControl-1",fullWidth:!0},s.a.createElement(v.a,{htmlFor:"input-with-icon-adornment"},"PREVIOUS HASH"),s.a.createElement(k.a,{className:"green",value:n,style:{fontSize:"0.75rem"},disabled:!0,id:"input-with-icon-adornment",startAdornment:s.a.createElement(E.a,{position:"start"},s.a.createElement(S.a,null))})),s.a.createElement(x.a,{className:i.margin+" formControl-1",fullWidth:!0},s.a.createElement(v.a,{htmlFor:"input-with-icon-adornment"},"HASH"),s.a.createElement(k.a,{className:a.startsWith("000")?"green":"red",style:{fontSize:"0.75rem"},value:a,disabled:!0,id:"input-with-icon-adornment",startAdornment:s.a.createElement(E.a,{position:"start"},s.a.createElement(S.a,null))}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.data!==t.data||e.nonce!==t.nonce?{data:e.data,hash:e.gensisHash,nonce:e.nonce,timestamp:e.timestamp}:null}}]),t}(n.Component),M=Object(u.a)({root:{padding:25}})(C),F=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).handleKeyPress=function(t){13===t.which&&e.onNewBlockSubmit()},e.state={gensisData:"Gensis Block",gensisHash:"",gensisNonce:"",gensisTimestamp:"",data:"",blocks:[]},e.onNewBlockSubmit=e.onNewBlockSubmit.bind(Object(d.a)(e)),e.gensisHandler=e.gensisHandler.bind(Object(d.a)(e)),e.fixNonce=e.fixNonce.bind(Object(d.a)(e)),e.fixBlockNonce=e.fixBlockNonce.bind(Object(d.a)(e)),e.getGensisOnMount=e.getGensisOnMount.bind(Object(d.a)(e)),e.getBlocksOnMount=e.getBlocksOnMount.bind(Object(d.a)(e)),e.blockHandler=e.blockHandler.bind(Object(d.a)(e)),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"gensisHandler",value:function(e){var t=(new Date).toLocaleString();this.setState({gensisData:e.target.value,gensisHash:Object(D.sha256)(e.target.value+0+0+t+0),gensisTimestamp:t}),this.state.blocks.length>0&&this.setState(function(e){var t=e.blocks;return t.map(function(e){t[e.index].nextHash=Object(D.sha256)(e.index+1+t[e.index].nextHash+t[e.index].nonce+t[e.index].data+t[e.index].timestamp)}),{blocks:t}})}},{key:"fixNonce",value:function(){for(var e=(new Date).toLocaleString(),t=0;!this.state.gensisHash.startsWith("000");){var a=Object(D.sha256)(-1+e+t+this.state.gensisData);if(t++,a.startsWith("000")){this.setState({gensisHash:a,gensisNonce:t,gensisTimestamp:e});break}}}},{key:"getGensisOnMount",value:function(e,t,a){this.setState({gensisHash:e,gensisNonce:t,gensisTimestamp:a})}},{key:"getBlocksOnMount",value:function(e,t,a,n){this.setState(function(s){var i=s.blocks;return i[e].nextHash=t,i[e].nonce=a,i[e].timestamp=n,{blocks:i}})}},{key:"blockHandler",value:function(e,t){var a=(new Date).toLocaleString();e.persist(),this.setState(function(n){var s=n.blocks;return s[t].nextHash=Object(D.sha256)(t+s[t].prevHash+a+0+e.target.value),s[t].data=e.target.value,s.length>[t+1]?s.slice(t+1).map(function(e){s[e.index].nextHash=Object(D.sha256)(t+1+s[e.index].nextHash+s[e.index].nonce+s[e.index].data+s[e.index].timestamp)}):{blocks:s}})}},{key:"fixBlockNonce",value:function(e){for(var t=this,a=(new Date).toLocaleString(),n=0,s=function(){var s=Object(D.sha256)(-1+a+n+t.state.gensisData);if(n++,s.startsWith("000"))return t.setState(function(t){var i=t.blocks;return i[e].nextHash=s,i[e].nonce=n,i[e].timestamp=a,{blocks:i}}),"break"};!this.state.blocks[e].nextHash.startsWith("000");){if("break"===s())break}}},{key:"onNewBlockSubmit",value:function(){var e=this.state,t=e.blocks,a=e.data,n=e.gensisHash,s=(new Date).toLocaleString(),i=t.length;0===i?this.setState({blocks:[].concat(Object(r.a)(this.state.blocks),[{index:i,data:a,prevHash:n,firstBlock:!0,nonce:0,timestamp:s,nextHash:Object(D.sha256)(this.index+this.prevHash+s+0+this.state.data)}])}):this.setState({blocks:[].concat(Object(r.a)(this.state.blocks),[{index:i,data:a,prevHash:t[i-1].nextHash,firstBlock:!1,nonce:0,timestamp:s,nextHash:Object(D.sha256)(this.index+this.prevHash+s+0+this.state.data)}])}),this.setState({data:""})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.blocks;return s.a.createElement(b.a,{className:"header"},s.a.createElement(M,{data:this.state.gensisData,gensisHash:this.state.gensisHash,nonce:this.state.gensisNonce,timestamp:this.state.gensisTimestamp,handler:this.gensisHandler,fixNonce:this.fixNonce,getGensisOnMount:this.getGensisOnMount}),a.map(function(t,n){return 0===n?s.a.createElement(W,{index:t.index,data:a[t.index].data,prevHash:e.state.gensisHash,hash:a[t.index].nextHash,nonce:a[t.index].nonce,timestamp:a[t.index].timestamp,getBlocksOnMount:e.getBlocksOnMount,blockHandler:e.blockHandler,fixBlockNonce:e.fixBlockNonce}):s.a.createElement(W,{index:t.index,data:a[t.index].data,prevHash:a[n-1].nextHash,hash:a[t.index].nextHash,nonce:a[t.index].nonce,timestamp:a[t.index].timestamp,getBlocksOnMount:e.getBlocksOnMount,blockHandler:e.blockHandler,fixBlockNonce:e.fixBlockNonce})}),s.a.createElement(b.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{marginBottom:"3rem"}},s.a.createElement(b.a,{item:!0,xs:12,lg:8},s.a.createElement(g.a,{className:t.root+" add-data-paper"},s.a.createElement(f.a,{variant:"h5",component:"h3",style:{textAlign:"center"}},"Add a block"),s.a.createElement(f.a,{component:"p"},s.a.createElement(b.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},s.a.createElement(x.a,{className:t.margin+" formControl-1"},s.a.createElement(v.a,{htmlFor:"input-with-icon-adornment"},"DATA"),s.a.createElement(k.a,{id:"input-with-icon-adornment",onChange:function(t){return e.setState({data:t.target.value})},onKeyPress:this.handleKeyPress,value:this.state.data,startAdornment:s.a.createElement(E.a,{position:"start"},s.a.createElement(O.a,null))}),s.a.createElement(j.a,{variant:"contained",color:"primary",className:t.button,style:{marginTop:"1rem"},onClick:this.onNewBlockSubmit},"ADD"))))))))}}]),t}(n.Component),L=Object(u.a)({root:{padding:25}})(F);var T=function(){return s.a.createElement(L,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[64,1,2]]]);